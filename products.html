<!DOCTYPE html>
<html>
<head>
    <!-- Add meta tags, title, and link to styles.css here -->
    <title> Product Page for Rubix Cubers</title>
    <meta charset="UTF-8">
    <meta name="description" content="Rubix cube shop">
    <meta name="keywords" content="Rubix, cube, puzzles, puzzle">
    <meta name="author" content="Rajvir and Paulo">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <p class="flex-container">
        <!-- Logo and website name go here -->
        <img  src="images/pixil-frame-0.jpg" class="flex-item-logo">
        <h class="flex-item-name">Cubix Rubers</h>
        </p>
    </header>
    <div class="nav-flex-container">
        <!-- Navigation links go here -->
            <a class="nav-flex-item" href="index.html">Home</a>
            <a class="nav-flex-item" href="products.html">Products</a>            
            <a class="nav-flex-item" href="contact.html">Contact</a>
            <a class="nav-flex-item" href="login.html">Login</a>
    </div>

<main>
    <div class="product-container">
            <div class="product-row">
                    <div class="product-info-container">
                        <img class="product-image" src="images/c1.jpg">
                        <b class="product-name">3x3 Rubix Cube</b>
                        <p class="product-price">$25</p>
                        <button class="login-button">Add to Cart</button>
                    </div>
                    <div class="product-info-container">
                        <img class="product-image" src="images/c2.jpg">
                        <b class="product-name">2x2 Rubix Cube</b>
                        <p class="product-price">$18</p>
                        <button class="login-button">Add to Cart</button>
                    </div>
            </div>          
            <div class="product-row">
                <div class="product-info-container">
                    <img class="product-image" src="images/c3.jpg">
                    <b class="product-name">Rubix's Black Cube</b>
                    <p class="product-price">$35</p>
                    <button class="login-button">Add to Cart</button>
                </div>
                <div class="product-info-container">
                    <img class="product-image" src="images/c4.jpg">
                    <b class="product-name">Rubix's White Cube</b>
                    <p class="product-price">$40</p>
                    <button class="login-button">Add to Cart</button>
                </div>
            </div>   
    </div>
</main>

<div id="cart">
    <center>
    <h2>Shopping Cart</h2>
    <table>
        <tbody id="cart-items">
        <!-- Cart items-->
        </tbody> 
    </table>
</center>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function(){
        const cartItemsContainer = document.getElementById('cart-items');

        // Function to add items to cart
        function addItemToCart(productName, productPrice) {
            const existingItem = cartItemsContainer.querySelector(`tr[data-name="${productName}"]`);
            if (existingItem) {
                const quantityInput = existingItem.querySelector('input[type="number"]');
                quantityInput.value = parseInt(quantityInput.value) + 1;
                return;
            }
            else{
                const row = document.createElement('tr');
            row.innerHTML = `
                <td>${productName}</td>
                <td>$${productPrice}</td>
                <td><input type="number" min="1" value="1"></td>
                <td><button class="remove-button">Remove</button></td>
            `;
            cartItemsContainer.appendChild(row);,
            }
            
            
        }

        // Event listener for adding items to cart
        const addToCartButtons = document.querySelectorAll('.login-button');
        addToCartButtons.forEach(button => {
            button.addEventListener('click', function(event) {
                const productContainer = event.target.closest('.product-info-container');
                const productName = productContainer.querySelector('.product-name').textContent;
                const productPrice = productContainer.querySelector('.product-price').textContent.slice(1); // Remove the "$" sign
                addItemToCart(productName, productPrice);
            });
        });

        // Event listener for removing items from cart
        cartItemsContainer.addEventListener('click', function(event) {
            if (event.target.classList.contains('remove-button')) {
                event.target.closest('tr').remove();
            }
        });
    });
</script>

<footer>
    <p>Â© Paulo and Rajvir. All rights reserved.</p>
</footer>
</body>
</html>
